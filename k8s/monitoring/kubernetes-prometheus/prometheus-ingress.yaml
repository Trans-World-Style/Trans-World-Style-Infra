## Nginx Ingress
## Follow https://devopscube.com/setup-ingress-kubernetes-nginx-controller/

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: prometheus-ui
  namespace: monitoring
  annotations:
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/rewrite-target: /$2
spec:
  rules:
  # Use the host you used in your kubernetes Ingress Configurations
  - host: tw-style.duckdns.org
    http:
      paths:
      - path: /pt(/|$)(.*)
        pathType: ImplementationSpecific
        backend:
          service:
            name: prometheus-service
            port:
              number: 8080
  tls:
  - hosts: 
    - tw-style.duckdns.org
    secretName: prometheus-secret
---
apiVersion: v1
kind: Secret
metadata:
  name: prometheus-secret 
  namespace: monitoring
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZFRENDQS9pZ0F3SUJBZ0lTQTY3QS9Nckk2K3k1NmFmUkRRY3JaQzZLTUEwR0NTcUdTSWIzRFFFQkN3VUEKTURJeEN6QUpCZ05WQkFZVEFsVlRNUll3RkFZRFZRUUtFdzFNWlhRbmN5QkZibU55ZVhCME1Rc3dDUVlEVlFRRApFd0pTTXpBZUZ3MHlNekV3TURFd05qUTVOREZhRncweU16RXlNekF3TmpRNU5EQmFNQjh4SFRBYkJnTlZCQU1UCkZIUjNMWE4wZVd4bExtUjFZMnRrYm5NdWIzSm5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUIKQ2dLQ0FRRUFxcHBHL3ZwSEVJZkNBa3pUSmlxOGFJVS9OTHpZb3NPN0RtM1JrT2QyTGxzT05DN0M1RmU3K1FZUwpkRFRwZGVrOWhjb2wrR091U0ZuVnA3Vm1pSTYrV1lyUTF2aDBGL1JwTGMvRjRMNVd5aHliNGN0b2FQbVVTZmNDCmRhREV5NWtzZ2NUTzNDZ3ZLamQ0VVBNQjlBdW5sTXBvSHUzWDNrTGZNc09DbEJ4ZjlFVkVwakU1a1p5UWtDMlgKQkFYM1FsT3pVMmdOVnpNZTBhYTY2UTRDdmQrWm41WTE5Y1RITVB0VlJhTGZsbXNaR1VyUVkyMGxHSWcwWnhMWgpoZExVRkUwWEFEbXNuYms2RXZWZzNsWmJPNVRyTjdrSG0yeVQxa05MTUpqY1JMRENTaFVVM0hVVG5rY2dOMHJ5CmhpUHQzbk91QVpxZ1U5UDJoczlKS0dzUHV1aDZ6UUlEQVFBQm80SUNNVENDQWkwd0RnWURWUjBQQVFIL0JBUUQKQWdXZ01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFNQmdOVkhSTUJBZjhFQWpBQQpNQjBHQTFVZERnUVdCQlFrVjVidlQ1OEM5NjFCR0h3Y3ZPWUJZL3M4L3pBZkJnTlZIU01FR0RBV2dCUVVMck1YCnQxaFd5NjVRQ1VEbUg2K2RpeFRDeGpCVkJnZ3JCZ0VGQlFjQkFRUkpNRWN3SVFZSUt3WUJCUVVITUFHR0ZXaDAKZEhBNkx5OXlNeTV2TG14bGJtTnlMbTl5WnpBaUJnZ3JCZ0VGQlFjd0FvWVdhSFIwY0RvdkwzSXpMbWt1YkdWdQpZM0l1YjNKbkx6QTVCZ05WSFJFRU1qQXdnaFIwZHkxemRIbHNaUzVrZFdOclpHNXpMbTl5WjRJWWQzZDNMblIzCkxYTjBlV3hsTG1SMVkydGtibk11YjNKbk1CTUdBMVVkSUFRTU1Bb3dDQVlHWjRFTUFRSUJNSUlCQlFZS0t3WUIKQkFIV2VRSUVBZ1NCOWdTQjh3RHhBSGNBZWpLTVZOaTNMYllnNmpqZ1VoN3BoQlp3TWhPRlRUdlNLOEU2VjZOUwo2MUlBQUFHSzZqYnFCQUFBQkFNQVNEQkdBaUVBNjVyaWVGYmxsTzZmamRKd09oZForYW5LN3ZGb2tTbVFVaitaCjZhMllKR0VDSVFEWjlSNGN5WXYyakxBUkEwcDc3Vnl6cWd3SUJ4UXR1NFFNSlFnNTFKeGJkd0IyQUxjKyt5VGYKbkUyNmRmSTV4YnBZOUd4ZC9FTFBlcDgxeEo0ZENZRWw3YlNaQUFBQml1bzI2Z0FBQUFRREFFY3dSUUlnQjJMSQo2UHRIMFFGa3FTaXkySGFIa2tqQjRwaW1qay9YWVZ4SyttVnB5bVlDSVFEVXVlMEphdUZ3TFV2SUtLbDYwMnFHClFSZDZjbUs2N0trT1pMZjVQR0dNYkRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJwSmZwMW1ZMWkzRVFtdTkKV2FwcEpab2FYRHVZYXlQT212TVhjQjFyVTFheE1FVzF2alhUQUs5eHFrVklIVW56K04vdVVZZlp4K2MrRGR6Tgp1OTlWL2lhSkplNElKTEtRbkdFUDUwWkVLTE9PQWJaVlUrUkdyRVFpVTR0TE1QVmZtYnZOa1EvajZVUjN3RXdYClR0T05Kd3ZtcFM4Y1JudFlRYlZoM0c5bVRsTDNCcFQyZzVhK1dwZ1E2UmtaOHZYcGZ1WlBvbkp3OGlTVDF3dXIKcjFFb2VURjBvbllpcFhwT0hiNFZOSjZya3lqU0JnV2Zzam5QOEJ6ak02bjRxRDN6dGhPTjdLOWpIK204ME5RYgo2QW9RT1FkamxXK2N3Z0tYckFuWGJIaFpaWGM2RGJLYnptUTFwdnhvcFExL21CTUZNWWlDRGx1eU9IU3R4MXBoCmV3TTN6Zz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGakNDQXY2Z0F3SUJBZ0lSQUpFckNFclBEQmluVS9iV0xpV25YMW93RFFZSktvWklodmNOQVFFTEJRQXcKVHpFTE1Ba0dBMVVFQmhNQ1ZWTXhLVEFuQmdOVkJBb1RJRWx1ZEdWeWJtVjBJRk5sWTNWeWFYUjVJRkpsYzJWaApjbU5vSUVkeWIzVndNUlV3RXdZRFZRUURFd3hKVTFKSElGSnZiM1FnV0RFd0hoY05NakF3T1RBME1EQXdNREF3CldoY05NalV3T1RFMU1UWXdNREF3V2pBeU1Rc3dDUVlEVlFRR0V3SlZVekVXTUJRR0ExVUVDaE1OVEdWMEozTWcKUlc1amNubHdkREVMTUFrR0ExVUVBeE1DVWpNd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFSwpBb0lCQVFDN0FoVW96UGFnbE5NUEV1eU5WWkxEK0lMeG1hWjZRb2luWFNhcXRTdTV4VXl4cjQ1citYWElvOWNQClI1UVVWVFZYako2b29qa1o5WUk4UXFsT2J2VTd3eTdiamNDd1hQTlpPT2Z0ejJud1dnc2J2c0NVSkNXSCtqZHgKc3hQbkhLemhtKy9iNUR0RlVrV1dxY0ZUempUSVV1NjFydTJQM21CdzRxVlVxN1p0RHBlbFFEUnJLOU84WnV0bQpOSHo2YTR1UFZ5bVorREFYWGJweWIvdUJ4YTNTaGxnOUY4Zm5DYnZ4Sy9lRzNNSGFjVjNVUnVQTXJTWEJpTHhnClozVm1zL0VZOTZKYzVsUC9Pb2kyUjZYL0V4anFtQWwzUDUxVCtjOEI1ZldtY0JjVXIyT2svNW16azUzY1U2Y0cKL2tpRkhhRnByaVYxdXhQTVVnUDE3VkdoaTlzVkFnTUJBQUdqZ2dFSU1JSUJCREFPQmdOVkhROEJBZjhFQkFNQwpBWVl3SFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdJR0NDc0dBUVVGQndNQk1CSUdBMVVkRXdFQi93UUlNQVlCCkFmOENBUUF3SFFZRFZSME9CQllFRkJRdXN4ZTNXRmJMcmxBSlFPWWZyNTJMRk1MR01COEdBMVVkSXdRWU1CYUEKRkhtMFdlWjd0dVhrQVhPQUNJaklHbGoyNlp0dU1ESUdDQ3NHQVFVRkJ3RUJCQ1l3SkRBaUJnZ3JCZ0VGQlFjdwpBb1lXYUhSMGNEb3ZMM2d4TG1rdWJHVnVZM0l1YjNKbkx6QW5CZ05WSFI4RUlEQWVNQnlnR3FBWWhoWm9kSFJ3Ck9pOHZlREV1WXk1c1pXNWpjaTV2Y21jdk1DSUdBMVVkSUFRYk1Ca3dDQVlHWjRFTUFRSUJNQTBHQ3lzR0FRUUIKZ3Q4VEFRRUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUNGeWs1SFBxUDNoVVNGdk5WbmVMS1lZNjExVFI2VwpQVE5sY2xRdGdhRHF3KzM0SUw5ZnpMZHdBTGR1Ty9aZWxON2tJSittNzR1eUErZWl0Ulk4a2M2MDdUa0M1M3dsCmlrZm1aVzQvUnZUWjhNNlVLKzVVemhLOGpDZEx1TUdZTDZLdnpYR1JTZ2kzeUxnamV3UXRDUGtJVno2RDJRUXoKQ2tjaGVBbUNKOE1xeUp1NXpsenlaTWpBdm5uQVQ0NXRSQXhla3JzdTk0c1E0ZWdkUkNuYldTRHRZN2toK0JJbQpsSk5Yb0IxbEJNRUtJcTRRRFVPWG9SZ2ZmdURnaGplMVdyRzlNTCtIYmlzcS95Rk9Hd1hEOVJpWDhGNnN3Nlc0CmF2QXV2RHN6dWU1TDNzejg1SytFQzRZL3dGVkROdlpvNFRZWGFvNlowZitsUUtjMHQ4RFFZemsxT1hWdThycDIKeUpNQzZhbExiQmZPREFMWnZZSDduN2RvMUFabHM0STlkMVA0am5rRHJRb3hCM1VxUTloVmwzTEVLUTczeEYxTwp5SzVHaEREWDhvVmZHS0Y1dStkZWNJc0g0WWFUdzdtUDNHRnhKU3F2MyswbFVGSm9pNUxjNWRhMTQ5cDkwSWRzCmhDRXhyb0wxKzdtcnlJa1hQZUZNNVRnTzlyMHJ2WmFCRk92VjJ6MGdwMzVaMCtMNFdQbGJ1RWpOL2x4UEZpbisKSGxVanI4Z1JzSTNxZkpPUUZ5LzlyS0lKUjBZLzhPbXd0LzhvVFdneTFtZGVIbW1qazdqMW5Zc3ZDOUpTUTZadgpNbGRsVFRLQjN6aFRoVjErWFdZcDZyamQ1SlcxemJWV0VrTE54RTdHSlRoRVVHM3N6Z0JWR1A3cFNXVFVUc3FYCm5MUmJ3SE9vcTdoSHdnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRllEQ0NCRWlnQXdJQkFnSVFRQUYzSVRmVTZVSzQ3bmFxUEdRS3R6QU5CZ2txaGtpRzl3MEJBUXNGQURBLwpNU1F3SWdZRFZRUUtFeHRFYVdkcGRHRnNJRk5wWjI1aGRIVnlaU0JVY25WemRDQkRieTR4RnpBVkJnTlZCQU1UCkRrUlRWQ0JTYjI5MElFTkJJRmd6TUI0WERUSXhNREV5TURFNU1UUXdNMW9YRFRJME1Ea3pNREU0TVRRd00xb3cKVHpFTE1Ba0dBMVVFQmhNQ1ZWTXhLVEFuQmdOVkJBb1RJRWx1ZEdWeWJtVjBJRk5sWTNWeWFYUjVJRkpsYzJWaApjbU5vSUVkeWIzVndNUlV3RXdZRFZRUURFd3hKVTFKSElGSnZiM1FnV0RFd2dnSWlNQTBHQ1NxR1NJYjNEUUVCCkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDdDZDUno5QlEzODV1ZUsxY29ISWUrM0xmZk9KQ01ianptVjZCNDkzWEMKb3Y3MWFtNzJBRThvMjk1b2hteEVrN2F4WS8wVUVtdS9IOUxxTVpzaGZ0RXpQTHBJOWQxNTM3TzQveEx4SVpwTAp3WXFHY1dsS1ptWnNqMzQ4Y0wrdEtTSUc4K1RBNW9DdTRrdVB0NWwrbEFPZjAwZVhmSmxJSTFQb09LNVBDbStECkx0RkpWNHlBZExiYUw5QTRqWHNEY0NFYmRmSXdQUHFQcnQzYVk2dnJGay9DamhGTGZzOEw2UCsxZHk3MHNudEsKNEV3U0pReHdqUU1wb09GVEpPd1QyZTRadnhDelNvdy9pYU5oVWQ2c2h3ZVU5R054N0M3aWIxdVlnZUdKWERSNQpiSGJ2TzVCaWVlYmJwSm92SnNYUUVPRU8zdGtRamhiN3QvZW85OGZsQWdlWWp6WUlsZWZpTjVZTk5uV2UrdzV5CnNSMmJ2QVA1U1FYWWdkMEZ0Q3JXUWVtc0FYYVZDZy9ZMzlXOUVoODFMeWdYYk5LWXdhZ0paSGR1UnplNnpxeFoKWG1pZGYzTFdpY1VHUVNrK1dUN2RKdlVreVJHbldxTk1RQjlHb1ptMXB6cFJib1k3bm4xeXB4SUZlRm50UGxGNApGUXNEajQzUUx3V3lQbnRLSEV0ekJSTDh4dXJnVUJOOFE1TjBzOHAwNTQ0ZkFRalFNTlJiY1RhMEI3ckJNREJjClNMZUNPNWltZldDS29xTXBnc3k2dllNRUc2S0RBMEdoMWdYeEc4SzI4S2g4aGp0R3FFZ3FpTngybW5hL0gycWwKUFJtUDZ6anpaTjdJS3cwS0tQLzMyK0lWUXRRaTBDZGQ0WG4rR09kd2lLMU81dG1MT3NiZEoxRnUvN3hrOVRORApUd0lEQVFBQm80SUJSakNDQVVJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBT0JnTlZIUThCQWY4RUJBTUNBUVl3ClN3WUlLd1lCQlFVSEFRRUVQekE5TURzR0NDc0dBUVVGQnpBQ2hpOW9kSFJ3T2k4dllYQndjeTVwWkdWdWRISjEKYzNRdVkyOXRMM0p2YjNSekwyUnpkSEp2YjNSallYZ3pMbkEzWXpBZkJnTlZIU01FR0RBV2dCVEVwN0drZXl4eAordHZoUzVCMS84UVZZSVdKRURCVUJnTlZIU0FFVFRCTE1BZ0dCbWVCREFFQ0FUQS9CZ3NyQmdFRUFZTGZFd0VCCkFUQXdNQzRHQ0NzR0FRVUZCd0lCRmlKb2RIUndPaTh2WTNCekxuSnZiM1F0ZURFdWJHVjBjMlZ1WTNKNWNIUXUKYjNKbk1Ed0dBMVVkSHdRMU1ETXdNYUF2b0MyR0syaDBkSEE2THk5amNtd3VhV1JsYm5SeWRYTjBMbU52YlM5RQpVMVJTVDA5VVEwRllNME5TVEM1amNtd3dIUVlEVlIwT0JCWUVGSG0wV2VaN3R1WGtBWE9BQ0lqSUdsajI2WnR1Ck1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQUtjd0JzbG03L0RsTFFydDJNNTFvR3JTK280NCsveVFvREZWREMKNVd4Q3UyK2I5TFJQd2tTSUNIWE02d2ViRkdKdWVON3NKN281WFBXaW9XNVdsSEFRVTdHNzVLL1Fvc01yQWRTVwo5TVVnTlRQNTJHRTI0SEdOdExpMXFvSkZsY0R5cVNNbzU5YWh5MmNJMnFCRExLb2JreC9KM3ZXcmFWMFQ5VnVHCldDTEtUVlhrY0dkdHdsZkZSamxCejRwWWcxaHRtZjVYNkRZTzhBNGpxdjJJbDlEalhBNlVTYlcxRnpYU0xyOU8KaGU4WTRJV1M2d1k3YkNrakNXRGNSUUpNRWhnNzZmc08zdHhFK0ZpWXJ1cTlSVVdoaUYxbXl2NFE2VytDeUJGQwpEZnZwN09PR0FONmRFT000K3FSOXNkam9TWUtFQnBzcjZHdFBBUXc0ZHk3NTNlYzUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBcXBwRy92cEhFSWZDQWt6VEppcThhSVUvTkx6WW9zTzdEbTNSa09kMkxsc09OQzdDCjVGZTcrUVlTZERUcGRlazloY29sK0dPdVNGblZwN1ZtaUk2K1dZclExdmgwRi9ScExjL0Y0TDVXeWh5YjRjdG8KYVBtVVNmY0NkYURFeTVrc2djVE8zQ2d2S2pkNFVQTUI5QXVubE1wb0h1M1gza0xmTXNPQ2xCeGY5RVZFcGpFNQprWnlRa0MyWEJBWDNRbE96VTJnTlZ6TWUwYWE2NlE0Q3ZkK1puNVkxOWNUSE1QdFZSYUxmbG1zWkdVclFZMjBsCkdJZzBaeExaaGRMVUZFMFhBRG1zbmJrNkV2VmczbFpiTzVUck43a0htMnlUMWtOTE1KamNSTERDU2hVVTNIVVQKbmtjZ04wcnloaVB0M25PdUFacWdVOVAyaHM5SktHc1B1dWg2elFJREFRQUJBb0lCQVFDaVZIQVBkK2VjdEFDSApuY0FnQmZRR1pCc3pQQ25LSGdIa0JkeXRTNEJwTlZ6N2pDOEhoTytvVVAzSU12eWRwRlJVOUhkU3RNNkZxMjBmCnlmeUpIWUhEdzlGWmEwbFQ3YzBTdVN1bzRKUEdkcGhncmVKb1dHcWdRbmZGb3piK0gzNTQ3K0tCRzM5ZFpUQ0gKbmVLUzYzQUdwTjJUNkc1SjMwbHZqUmEzaFpSTDRQcnZzTjlZVm1NbGpVVFZTTWZmWTZCenVzVGQzd0JMcjBvVQpMM3NDTnJRV3pYRTFqaEdvQWpUdDVmdUxOUHdqUEZBL2MyUlduc2pyTmt4eHJBc3pVZ1M3dFFjSkVTNG55MmFIClZ5MURuclIza2N5cjNkVXJVakVUZjNBVnhGdG4zQzFBa1dVRzRHMW1rK2RXRWtUVDVVdjZHUzNMMDJ4aHVuRnYKQ3p5M2hmbmxBb0dCQU51NUZleHhYWUxxYW5Ga2ErYzVwYUJQVmM1RkdjdnhJRStPanZQeWlIdElBUG1CMkM3VgpoZnZENlV3SWRienFiMXhaZnUwKzczaWptalZSK2xiUTZFRWcrbjFaWE01N3BCV3Yxb2VzRWtoWFI4SU9XVlZUCjZTanJiZDBWQUN0NDdtVkxQTWROalcwTEpoVlhJV3Z3SWp6Q0pTNmZUalR0Qi9FK1pNdmlPd1VyQW9HQkFNYkYKREZ5eE4yeDZzMVBybVprY3E2azUyRjR4dExQK0RsRVpNUTZaTjF2bUFDRC9NYTE0Wlo1WDVJVUx0blpEU3BmUgpMazVuZkh1aGxOaVJ3WEJVaDBJQmVqdE9zR0JGNGlBLzkrcEduUUVFZUJvUzJOOE9uNDkzb2I5UTE1SnRkZTNnCndzUWhZS2JLZTVGRitldDB2SGVSZ0hSMHB1U2dURzVrZjRMRHZmUG5Bb0dBQTBGanhNUU5PYUpWZjJhWWZxMkkKK2E0VFBHSWp0clRVNExqZy8xWkpsV0lFdWEybDBWUFNqMTlndG9LdGsrWDVUbW41Q25UVFFYdFREcFV2VzFmdgpDUC8vRmhwYjJLZFdVQWZ4NnNLdTVxbDhZN0NvdkMzcEYzVWRoSmdLRDVyVUZXWWUrV2o1dm5MYTFwZ2E0Nm1FCktGaE1DcnZMZ2RjOU5lTFJ4WCtObGs4Q2dZQkFGVDFVRVFxR1hkUzlCS05EbXR1NU5sNE1tRWZqRTlCMzB3QmUKN1lUTWl3MlZsZERsVllDbG1UNmlxbEVNTmN1eHdJNEdWeFRxSXdFREJaTHc3VCtpUnltcVAwZGI4b3ZoeTkzWQoyU1U3TTc2bzRWU3NMV0hCOWxiZWdHalAyNXgrc2N6NVFLMlJlSXg0SExCamVnSmRKanJjME5NUnVLQ0xvcmo5ClpyQXlGd0tCZ0Q1V0lYYUVjcjJWTEdTTFlmNE1zajg1SmEzMzRFYUkrb0tpNmdWcEMveXVGS2YvUFI4MC9QRWsKLzlaYjRDM20yT3dBZGR0bGtQYm1XalV3dnFiWTlqdmJrNjNIWGZoSis0TnZwWXo4WWZ2LzQvVXBOdnNQSG5zWQpLOE9PUml1blVacnAyVVp6NzBBNFh2TllNb2E4N0NjRUM5M2diNUpBN3BUcFM3RXc2SHBRCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
